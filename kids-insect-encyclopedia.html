<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유치원 어린이를 위한 신나는 곤충 백과사전</title>
    <!-- 귀여운 한글 폰트 추가 -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Base Styles */
        :root {
            --primary-color: #8bc34a;
            --secondary-color: #689f38;
            --background-color: #f0f9e8;
            --card-color: #ffffff;
            --text-color: #333333;
            --accent-color: #ff9800;
            --ruler-color: #4caf50;
            --correct-color: #4caf50;
            --wrong-color: #f44336;
            --journal-color: #81c784;
            --delete-color: #e57373;
            --coloring-color: #9575cd;
            --scroll-color: #ffa726;
            --search-color: #7cb342;
        }

        body {
            font-family: 'Gaegu', 'Nanum Gothic', sans-serif;
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
            color: var(--text-color);
        }

        /* 위로 가기 버튼 스타일 */
        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--scroll-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: none;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .scroll-to-top:hover {
            background-color: var(--accent-color);
            transform: translateY(-3px);
        }

        .scroll-to-top.visible {
            display: flex;
        }

        /* Header Styles */
        header {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 2rem;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.2rem;
            margin-top: 1rem;
        }

        /* Navigation Styles */
        .nav-container {
            background-color: var(--secondary-color);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .nav-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background-color: var(--accent-color);
            transform: translateY(-2px);
        }

        /* Main Content Styles */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .insect-card {
            background-color: var(--card-color);
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .insect-card:hover {
            transform: translateY(-5px);
        }

        .insect-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .insect-header h2 {
            margin: 0;
            font-size: 1.8rem;
        }

        .insect-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            padding: 2rem;
        }

        .insect-image {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .insect-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .insect-image:hover img {
            transform: scale(1.05);
        }

        .insect-info {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .info-section {
            background-color: rgba(139, 195, 74, 0.1);
            padding: 1rem;
            border-radius: 10px;
        }

        .info-section h3 {
            color: var(--secondary-color);
            margin-top: 0;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        .fun-fact {
            background-color: #fff3e0;
            padding: 1rem;
            border-radius: 10px;
            border-left: 4px solid var(--accent-color);
        }

        .fun-fact h3 {
            color: var(--accent-color);
            margin-top: 0;
        }

        /* Footer Styles */
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .insect-content {
                grid-template-columns: 1fr;
            }

            .nav-button {
                font-size: 0.9rem;
            }
        }

        /* Size Comparison Styles */
        .size-comparison {
            background-color: var(--card-color);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .size-comparison h3 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .size-ruler {
            height: 40px;
            background-color: var(--background-color);
            position: relative;
            margin: 2rem 0;
            border-radius: 5px;
        }

        .ruler-marks {
            position: absolute;
            bottom: -20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
        }

        .ruler-mark {
            position: relative;
            width: 2px;
            height: 10px;
            background-color: var(--ruler-color);
        }

        .ruler-mark::after {
            content: attr(data-size);
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: var(--text-color);
        }

        .insect-markers {
            position: relative;
            height: 150px;
        }

        .insect-marker {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            transform: translateX(-50%);
        }

        .insect-marker img {
            width: 40px;
            height: 40px;
            object-fit: contain;
        }

        .insect-marker span {
            font-size: 0.8rem;
            text-align: center;
            color: var(--text-color);
        }

        /* 꿀벌 기준으로 위치 조정 */
        .insect-marker:nth-child(1) {
            left: 15%;
        }

        /* Quiz Styles */
        .quiz-section {
            background-color: var(--card-color);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .quiz-section h3 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .quiz-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .quiz-question {
            background-color: var(--background-color);
            padding: 1.5rem;
            border-radius: 10px;
            display: none;
        }

        .quiz-question.active {
            display: block;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .quiz-option {
            background-color: white;
            border: 2px solid var(--primary-color);
            padding: 0.8rem 1.2rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .quiz-option:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .quiz-option.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
        }

        .quiz-option.wrong {
            background-color: var(--wrong-color);
            color: white;
            border-color: var(--wrong-color);
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            display: none;
        }

        .quiz-feedback.correct {
            display: block;
            background-color: rgba(76, 175, 80, 0.1);
            color: var(--correct-color);
        }

        .quiz-feedback.wrong {
            display: block;
            background-color: rgba(244, 67, 54, 0.1);
            color: var(--wrong-color);
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        .quiz-nav-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-nav-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .quiz-nav-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* Journal Styles */
        .journal-section {
            background-color: var(--card-color);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .journal-section h3 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .journal-form {
            background-color: var(--background-color);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .journal-button {
            background-color: var(--journal-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .journal-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .journal-entries {
            display: grid;
            gap: 1rem;
            margin-top: 2rem;
        }

        .journal-entry {
            background-color: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
        }

        .journal-entry h4 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 0.5rem;
        }

        .entry-date {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .entry-content {
            margin-bottom: 1rem;
        }

        .entry-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            background-color: var(--background-color);
            padding: 1rem;
            border-radius: 8px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
        }

        .detail-label {
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 0.3rem;
        }

        .delete-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background-color: var(--delete-color);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .delete-button:hover {
            transform: scale(1.1);
        }

        /* Coloring Page Styles */
        .coloring-section {
            background-color: var(--card-color);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .coloring-section h3 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .coloring-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .canvas-container {
            position: relative;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        #coloringCanvas {
            width: 100%;
            max-width: 600px;
            height: auto;
            display: block;
            margin: 0 auto;
            cursor: crosshair;
        }

        .color-palette {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin: 1rem 0;
            padding: 1rem;
            background-color: var(--background-color);
            border-radius: 10px;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid white;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.selected {
            border: 3px solid var(--primary-color);
            transform: scale(1.1);
        }

        .coloring-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .coloring-button {
            background-color: var(--coloring-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .coloring-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .brush-size-control {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
            justify-content: center;
        }

        .brush-size-control label {
            color: var(--secondary-color);
            font-weight: bold;
        }

        .brush-size-control input {
            width: 200px;
        }

        /* 검색 섹션 스타일 */
        .search-section {
            background-color: var(--card-color);
            padding: 1rem;
            position: sticky;
            top: 60px;
            z-index: 999;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }

        .search-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 0.8rem;
            border: 2px solid var(--search-color);
            border-radius: 20px;
            font-size: 1rem;
            font-family: inherit;
            background-color: white;
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(124, 179, 66, 0.3);
        }

        .search-button {
            background-color: var(--search-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .search-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .search-results {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
        }

        .search-results.visible {
            display: block;
        }

        .search-result-item {
            padding: 1rem;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .search-result-item:hover {
            background-color: var(--background-color);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .highlight {
            background-color: rgba(255, 193, 7, 0.3);
            padding: 0 2px;
            border-radius: 2px;
        }
    </style>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- 위로 가기 버튼 추가 -->
    <div class="scroll-to-top">
        <i class="fas fa-arrow-up"></i>
    </div>

    <header>
        <div class="header-content">
            <h1>🐞 신나는 곤충 백과사전 🦋</h1>
            <div class="subtitle">유치원 친구들을 위한 신기한 곤충 이야기</div>
        </div>
    </header>

    <!-- 검색 섹션 추가 -->
    <div class="search-section">
        <div class="search-container">
            <input type="text" class="search-input" id="searchInput" placeholder="찾고 싶은 곤충의 이름을 입력해보세요! (예: 무당벌레, 장수풍뎅이)">
            <button class="search-button" onclick="searchInsects()">
                <i class="fas fa-search"></i> 찾기
            </button>
        </div>
        <div class="search-results" id="searchResults"></div>
    </div>

    <div class="nav-container">
        <nav>
            <button class="nav-button" onclick="location.href='#intro'">소개</button>
            <button class="nav-button" onclick="location.href='#butterfly'">호랑나비</button>
            <button class="nav-button" onclick="location.href='#ladybug'">무당벌레</button>
            <button class="nav-button" onclick="location.href='#stagbeetle'">장수풍뎅이</button>
            <button class="nav-button" onclick="location.href='#mantis'">사마귀</button>
            <button class="nav-button" onclick="location.href='#cicada'">매미</button>
            <button class="nav-button" onclick="location.href='#dragonfly'">잠자리</button>
            <button class="nav-button" onclick="location.href='#honeybee'">꿀벌</button>
            <button class="nav-button" onclick="location.href='#cricket'">귀뚜라미</button>
            <button class="nav-button" onclick="location.href='#grasshopper'">방아깨비</button>
            <button class="nav-button" onclick="location.href='#longhorn'">하늘소</button>
        </nav>
    </div>

    <div class="container">
        <section id="intro" class="insect-card">
            <div class="insect-header">
                <h2>안녕? 곤충 친구들을 만나볼까요?</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/intro/main.png" alt="다양한 곤충들">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>곤충이란?</h3>
                        <p>안녕하세요, 꼬마 과학자 여러분! 🔍</p>
                        <p>곤충은 우리 주변에서 가장 많이 볼 수 있는 동물이에요. 땅에서도, 하늘에서도, 물 위에서도 곤충을 만날 수 있답니다!</p>
                        <p>곤충은 몸이 <strong>머리, 가슴, 배</strong> 세 부분으로 나누어져 있고, <strong>다리가 6개</strong>인 특별한 동물이에요.</p>
                    </div>
                    
                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>지구에는 무려 100만 종이 넘는 곤충이 살고 있어요! 그건 모든 동물의 80%나 된답니다. 대단하죠?</p>
                    </div>
                </div>
            </div>

            <div class="size-comparison">
                <h3>곤충들의 크기를 비교해볼까요?</h3>
                <p>각 곤충의 실제 크기를 비교해보세요! (단위: cm)</p>
                
                <div class="size-ruler">
                    <div class="ruler-marks">
                        <div class="ruler-mark" data-size="0" style="left: 0%"></div>
                        <div class="ruler-mark" data-size="1" style="left: 10%"></div>
                        <div class="ruler-mark" data-size="2" style="left: 20%"></div>
                        <div class="ruler-mark" data-size="3" style="left: 30%"></div>
                        <div class="ruler-mark" data-size="4" style="left: 40%"></div>
                        <div class="ruler-mark" data-size="5" style="left: 50%"></div>
                        <div class="ruler-mark" data-size="6" style="left: 60%"></div>
                        <div class="ruler-mark" data-size="7" style="left: 70%"></div>
                        <div class="ruler-mark" data-size="8" style="left: 80%"></div>
                        <div class="ruler-mark" data-size="9" style="left: 90%"></div>
                        <div class="ruler-mark" data-size="10" style="left: 100%"></div>
                    </div>
                </div>

                <div class="insect-markers">
                    <div class="insect-marker" style="left: 15%">
                        <img src="images/bees_moths/꿀벌.png" alt="꿀벌">
                        <span>꿀벌<br>1.5cm</span>
                    </div>
                    <div class="insect-marker" style="left: 20%">
                        <img src="images/beetles/무당벌레.png" alt="무당벌레">
                        <span>무당벌레<br>2cm</span>
                    </div>
                    <div class="insect-marker" style="left: 30%">
                        <img src="images/grasshoppers/방아깨비.png" alt="방아깨비">
                        <span>방아깨비<br>3cm</span>
                    </div>
                    <div class="insect-marker" style="left: 40%">
                        <img src="images/beetles/하늘소.png" alt="하늘소">
                        <span>하늘소<br>4cm</span>
                    </div>
                    <div class="insect-marker" style="left: 50%">
                        <img src="images/bees_moths/매미.png" alt="매미">
                        <span>매미<br>5cm</span>
                    </div>
                    <div class="insect-marker" style="left: 65%">
                        <img src="images/dragonflies/잠자리.png" alt="잠자리">
                        <span>잠자리<br>6.5cm</span>
                    </div>
                    <div class="insect-marker" style="left: 80%">
                        <img src="images/beetles/장수풍뎅이.png" alt="장수풍뎅이">
                        <span>장수풍뎅이<br>8cm</span>
                    </div>
                    <div class="insect-marker" style="left: 100%">
                        <img src="images/butterflies/호랑나비.png" alt="호랑나비">
                        <span>호랑나비<br>10cm</span>
                    </div>
                </div>
            </div>

            <div class="quiz-section">
                <h3>재미있는 곤충 퀴즈</h3>
                <p>곤충 친구들에 대해 얼마나 알고 있는지 퀴즈를 풀어보세요!</p>
                
                <div class="quiz-container">
                    <div class="quiz-question" data-question="1">
                        <h4>Q1. 무당벌레는 하루에 몇 마리의 진딧물을 먹을 수 있나요?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(1, 0)">20마리</button>
                            <button class="quiz-option" onclick="checkAnswer(1, 1)">50마리</button>
                            <button class="quiz-option" onclick="checkAnswer(1, 2)">100마리</button>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-question" data-question="2">
                        <h4>Q2. 장수풍뎅이 애벌레는 얼마나 오래 자라나요?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(2, 0)">6개월</button>
                            <button class="quiz-option" onclick="checkAnswer(2, 1)">1년</button>
                            <button class="quiz-option" onclick="checkAnswer(2, 2)">3년</button>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-question" data-question="3">
                        <h4>Q3. 잠자리는 얼마나 빨리 날 수 있나요?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(3, 0)">시속 20km</button>
                            <button class="quiz-option" onclick="checkAnswer(3, 1)">시속 50km</button>
                            <button class="quiz-option" onclick="checkAnswer(3, 2)">시속 80km</button>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>
                </div>

                <div class="quiz-navigation">
                    <button class="quiz-nav-button" onclick="previousQuestion()" id="prevButton" disabled>이전 문제</button>
                    <button class="quiz-nav-button" onclick="nextQuestion()" id="nextButton">다음 문제</button>
                </div>
            </div>

            <div class="journal-section">
                <h3>나만의 곤충 관찰 일지 📝</h3>
                <p>곤충을 관찰하고 기록해보세요! 여러분만의 특별한 곤충 이야기를 만들어보아요.</p>

                <div class="journal-form">
                    <div class="form-group">
                        <label for="insectName">어떤 곤충을 보았나요?</label>
                        <select id="insectName" required>
                            <option value="">곤충을 선택해주세요</option>
                            <option value="호랑나비">호랑나비</option>
                            <option value="무당벌레">무당벌레</option>
                            <option value="장수풍뎅이">장수풍뎅이</option>
                            <option value="사마귀">사마귀</option>
                            <option value="매미">매미</option>
                            <option value="잠자리">잠자리</option>
                            <option value="꿀벌">꿀벌</option>
                            <option value="귀뚜라미">귀뚜라미</option>
                            <option value="방아깨비">방아깨비</option>
                            <option value="하늘소">하늘소</option>
                            <option value="기타">기타</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="location">어디에서 보았나요?</label>
                        <input type="text" id="location" placeholder="예: 학교 앞 공원" required>
                    </div>

                    <div class="form-group">
                        <label for="weather">날씨는 어땠나요?</label>
                        <select id="weather" required>
                            <option value="">날씨를 선택해주세요</option>
                            <option value="맑음">맑음 ☀️</option>
                            <option value="흐림">흐림 ☁️</option>
                            <option value="비">비 🌧️</option>
                            <option value="구름조금">구름 조금 🌤️</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="observation">무엇을 보았나요? 어떤 행동을 했나요?</label>
                        <textarea id="observation" placeholder="예: 무당벌레가 나뭇잎 위에서 진딧물을 먹고 있었어요." required></textarea>
                    </div>

                    <button class="journal-button" onclick="addJournalEntry()">
                        <i class="fas fa-plus"></i> 관찰 일지 저장하기
                    </button>
                </div>

                <div id="journalEntries" class="journal-entries">
                    <!-- 여기에 관찰 일지가 추가됩니다 -->
                </div>
            </div>

            <div class="coloring-section">
                <h3>곤충 색칠하기 🎨</h3>
                <p>마음에 드는 색으로 예쁘게 색칠해보세요!</p>

                <div class="coloring-container">
                    <div class="color-palette">
                        <div class="color-option" style="background-color: #000000" data-color="#000000"></div>
                        <div class="color-option" style="background-color: #ff0000" data-color="#ff0000"></div>
                        <div class="color-option" style="background-color: #00ff00" data-color="#00ff00"></div>
                        <div class="color-option" style="background-color: #0000ff" data-color="#0000ff"></div>
                        <div class="color-option" style="background-color: #ffff00" data-color="#ffff00"></div>
                        <div class="color-option" style="background-color: #ff00ff" data-color="#ff00ff"></div>
                        <div class="color-option" style="background-color: #00ffff" data-color="#00ffff"></div>
                        <div class="color-option" style="background-color: #ff9900" data-color="#ff9900"></div>
                        <div class="color-option" style="background-color: #9900ff" data-color="#9900ff"></div>
                        <div class="color-option" style="background-color: #ffffff" data-color="#ffffff"></div>
                    </div>

                    <div class="brush-size-control">
                        <label for="brushSize">붓의 크기:</label>
                        <input type="range" id="brushSize" min="1" max="20" value="5">
                    </div>

                    <div class="canvas-container">
                        <canvas id="coloringCanvas"></canvas>
                    </div>

                    <div class="coloring-controls">
                        <button class="coloring-button" onclick="clearCanvas()">
                            <i class="fas fa-trash"></i> 다시 그리기
                        </button>
                        <button class="coloring-button" onclick="saveDrawing()">
                            <i class="fas fa-save"></i> 저장하기
                        </button>
                        <button class="coloring-button" onclick="changeInsect()">
                            <i class="fas fa-sync"></i> 다른 곤충 선택
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="butterfly" class="insect-card">
            <div class="insect-header">
                <h2>아름다운 호랑나비 🦋</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/butterflies/호랑나비.png" alt="호랑나비">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>호랑나비 소개</h3>
                        <p>호랑나비는 우리나라에서 가장 크고 아름다운 나비 중 하나예요. 노란색 날개에 검은색 줄무늬가 있어서 마치 호랑이 무늬처럼 보인답니다!</p>
                        <p>크기는 날개를 펼치면 10cm나 되어요. 정말 큰 나비죠?</p>
                    </div>

                    <div class="info-section">
                        <h3>호랑나비의 한살이</h3>
                        <p>호랑나비는 신기한 변신을 해요:</p>
                        <ol>
                            <li>알 → 작고 동그란 알을 낳아요 🥚</li>
                            <li>애벌레 → 초록색 몸에 검은색과 주황색 무늬가 있어요 🐛</li>
                            <li>번데기 → 연두색이나 갈색의 번데기가 돼요</li>
                            <li>성충 → 마지막으로 아름다운 호랑나비가 되어요! 🦋</li>
                        </ol>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>호랑나비는 산과 들에 사는 제비꽃을 특히 좋아해요. 애벌레는 제비꽃의 잎을 먹고 자라고, 어른 나비는 제비꽃의 꿀을 먹어요. 그리고 호랑나비는 봄부터 가을까지 볼 수 있답니다!</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="ladybug" class="insect-card">
            <div class="insect-header">
                <h2>귀여운 무당벌레 🐞</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/beetles/무당벌레.png" alt="무당벌레">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>무당벌레 소개</h3>
                        <p>무당벌레는 동그란 몸에 빨간색 겉날개와 7개의 검은 점이 있는 아주 귀여운 곤충이에요. 크기는 약 5-8mm로 아주 작답니다!</p>
                        <p>무당벌레가 걸어다닐 때는 "또각또각" 소리가 나요. 작은 발로 걸어다니는 모습이 정말 귀엽죠?</p>
                    </div>

                    <div class="info-section">
                        <h3>무당벌레는 농부의 친구</h3>
                        <p>무당벌레는 진딧물을 잡아먹는 <strong>자연의 해충 방제사</strong>예요!</p>
                        <ul>
                            <li>하루에 약 50마리의 진딧물을 먹을 수 있어요</li>
                            <li>진딧물은 식물에 해로운 벌레예요</li>
                            <li>무당벌레가 진딧물을 잡아먹어서 식물을 보호해줘요</li>
                            <li>그래서 농부들이 무당벌레를 아주 좋아한답니다</li>
                        </ul>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>무당벌레의 점 개수는 종류에 따라 다르답니다! 2개부터 24개까지 다양한 점을 가진 무당벌레가 있어요. 우리나라에서 가장 흔한 무당벌레는 7개의 점을 가지고 있어요.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="stagbeetle" class="insect-card">
            <div class="insect-header">
                <h2>강한 장수풍뎅이 🪲</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/beetles/장수풍뎅이.png" alt="장수풍뎅이">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>장수풍뎅이 소개</h3>
                        <p>장수풍뎅이는 우리나라에서 가장 큰 딱정벌레 중 하나예요. 수컷은 머리에 커다란 뿔이 있어서 마치 작은 공룡처럼 보이죠!</p>
                        <p>몸길이는 3-7cm 정도로, 어른 손바닥만큼 커요. 몸은 반짝반짝 윤이 나는 검은색이랍니다.</p>
                    </div>

                    <div class="info-section">
                        <h3>장수풍뎅이의 생활</h3>
                        <p>장수풍뎅이는 이렇게 살아요:</p>
                        <ul>
                            <li>낮에는 나무 속이나 땅 속에서 쉬어요</li>
                            <li>밤에 활동하면서 나무의 수액을 먹어요</li>
                            <li>수컷은 큰 뿔로 다른 수컷과 싸워서 영역을 지켜요</li>
                            <li>여름철에 주로 볼 수 있어요</li>
                        </ul>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>장수풍뎅이 애벌레는 땅 속에서 3년 동안 자라요! 그동안 썩은 나무를 먹으면서 점점 커진답니다. 그리고 마침내 어른벌레가 되면 단 2-3개월만 살아요. 정말 신기하죠?</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="mantis" class="insect-card">
            <div class="insect-header">
                <h2>멋진 사마귀 🦗</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/grasshoppers/사마귀.png" alt="사마귀">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>사마귀 소개</h3>
                        <p>사마귀는 앞다리가 낫처럼 생긴 특별한 곤충이에요. 초록색이나 갈색 몸을 가지고 있어서 나뭇잎이나 나뭇가지처럼 보여요.</p>
                        <p>머리를 180도로 돌릴 수 있어서 뒤에서 다가오는 것도 잘 볼 수 있답니다!</p>
                    </div>

                    <div class="info-section">
                        <h3>사마귀의 사냥</h3>
                        <p>사마귀는 대단한 사냥꾼이에요:</p>
                        <ul>
                            <li>날카로운 앞다리로 먹이를 잡아요</li>
                            <li>나뭇잎처럼 가만히 있다가 먹이가 지나가면 재빨리 잡아요</li>
                            <li>나비, 파리, 메뚜기 같은 작은 곤충을 잡아먹어요</li>
                            <li>큰 복안으로 먹이를 잘 찾을 수 있어요</li>
                        </ul>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>사마귀는 기도하는 것처럼 앞다리를 모으고 있어서 '기도하는 사마귀'라고도 불러요. 하지만 사실 이건 먹이를 잡기 위해 준비하는 자세랍니다!</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="cicada" class="insect-card">
            <div class="insect-header">
                <h2>시끄러운 매미 🎵</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/bees_moths/매미.png" alt="매미">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>매미 소개</h3>
                        <p>매미는 여름을 대표하는 곤충이에요. 투명한 날개를 가진 큰 곤충으로, 수컷은 특별한 소리를 낼 수 있어요.</p>
                        <p>매미는 크기가 3-4cm 정도로 꽤 큰 편이에요. 날개는 유리처럼 투명하고 반짝반짝해요!</p>
                    </div>

                    <div class="info-section">
                        <h3>매미의 노래</h3>
                        <p>매미는 이렇게 노래해요:</p>
                        <ul>
                            <li>수컷 매미만 소리를 낼 수 있어요</li>
                            <li>배 아래쪽에 있는 '발음기'로 소리를 내요</li>
                            <li>아침부터 저녁까지 "맴맴" 하고 우는 소리를 들을 수 있어요</li>
                            <li>다른 매미들에게 "나 여기 있어요~" 하고 알리는 거예요</li>
                        </ul>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>매미는 땅 속에서 아주 오래 자라요! 어떤 매미는 땅 속에서 7년이나 살다가 어른 매미가 된답니다. 하지만 어른이 되면 단 2주에서 4주 정도만 살아요.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="dragonfly" class="insect-card">
            <div class="insect-header">
                <h2>빠른 잠자리 🦋</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/dragonflies/잠자리.png" alt="잠자리">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>잠자리 소개</h3>
                        <p>잠자리는 하늘의 헬리콥터라고 불릴 만큼 날기를 잘하는 곤충이에요. 두 쌍의 큰 날개로 자유자재로 날 수 있어요!</p>
                        <p>몸길이는 4-5cm 정도이고, 날개를 펼치면 7-8cm나 되요. 몸은 파란색, 빨간색, 갈색 등 다양한 색깔을 가지고 있답니다.</p>
                    </div>

                    <div class="info-section">
                        <h3>잠자리의 특별한 능력</h3>
                        <p>잠자리는 이런 능력이 있어요:</p>
                        <ul>
                            <li>앞으로, 뒤로, 옆으로, 제자리에서도 날 수 있어요</li>
                            <li>시속 50km로 날 수 있어요 (자전거보다 빨라요!)</li>
                            <li>커다란 복안으로 거의 모든 방향을 볼 수 있어요</li>
                            <li>공중에서 먹이를 잡을 수 있어요</li>
                        </ul>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>잠자리는 3억 년 전부터 지구에 살았어요! 공룡보다 더 오래전부터 있었던 아주 오래된 곤충이랍니다. 옛날의 잠자리는 지금보다 훨씬 커서 날개 길이가 70cm나 됐대요!</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="honeybee" class="insect-card">
            <div class="insect-header">
                <h2>부지런한 꿀벌 🐝</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/bees_moths/꿀벌.png" alt="꿀벌">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>꿀벌 소개</h3>
                        <p>꿀벌은 노란색과 검은색 줄무늬가 있는 작은 곤충이에요. 몸에는 부드러운 털이 나 있고, 날개는 투명해요.</p>
                        <p>크기는 1.5cm 정도로 작지만, 아주 부지런하게 일하는 곤충이랍니다!</p>
                    </div>

                    <div class="info-section">
                        <h3>꿀벌의 일</h3>
                        <p>꿀벌은 이런 일을 해요:</p>
                        <ul>
                            <li>꽃에서 꿀물(화밀)을 모아와요</li>
                            <li>꽃가루를 다른 꽃으로 옮겨서 식물이 열매를 맺을 수 있게 도와줘요</li>
                            <li>벌집에서 꿀을 만들어요</li>
                            <li>여왕벌과 애벌레를 돌봐요</li>
                        </ul>
                    </div>

                    <div class="info-section">
                        <h3>꿀벌의 춤</h3>
                        <p>꿀벌은 춤으로 대화를 해요! 꽃을 찾은 꿀벌이 8자 모양으로 춤을 추면, 다른 꿀벌들은 그 춤을 보고 꽃이 어디에 있는지 알 수 있어요.</p>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>한 마리의 꿀벌이 평생 모을 수 있는 꿀의 양은 겨우 작은 티스푼의 1/12 정도예요. 그래서 많은 꿀벌들이 함께 일해야 우리가 먹는 꿀을 만들 수 있답니다!</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="cricket" class="insect-card">
            <div class="insect-header">
                <h2>노래하는 귀뚜라미 🦗</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/grasshoppers/귀뚜라미.png" alt="귀뚜라미">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>귀뚜라미 소개</h3>
                        <p>귀뚜라미는 가을밤을 대표하는 곤충이에요. 검은색이나 갈색 몸을 가진 곤충으로, 수컷은 특별한 소리를 낼 수 있어요.</p>
                        <p>크기는 2-3cm 정도이고, 긴 더듬이와 뒷다리를 가지고 있어요.</p>
                    </div>

                    <div class="info-section">
                        <h3>귀뚜라미의 노래</h3>
                        <p>귀뚜라미는 이렇게 노래해요:</p>
                        <ul>
                            <li>수컷 귀뚜라미만 소리를 낼 수 있어요</li>
                            <li>날개를 서로 비벼서 "귀뚜르 귀뚜르" 소리를 내요</li>
                            <li>마치 바이올린을 연주하는 것처럼 날개를 비벼요</li>
                            <li>밤에 주로 노래를 불러요</li>
                        </ul>
                    </div>

                    <div class="info-section">
                        <h3>귀뚜라미의 생활</h3>
                        <p>귀뚜라미는 풀숲이나 돌 밑, 땅 속에 작은 집을 짓고 살아요. 낮에는 숨어 있다가 밤에 주로 활동한답니다.</p>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>귀뚜라미의 귀는 앞다리에 있어요! 우리처럼 머리에 귀가 있는 게 아니라, 앞다리에 있는 작은 구멍으로 소리를 들어요. 신기하죠?</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="grasshopper" class="insect-card">
            <div class="insect-header">
                <h2>뛰어다니는 방아깨비 🦗</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/grasshoppers/방아깨비.png" alt="방아깨비">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>방아깨비 소개</h3>
                        <p>방아깨비는 논이나 풀밭에서 사는 메뚜기과의 곤충이에요. 초록색이나 갈색 몸을 가지고 있어요.</p>
                        <p>크기는 2-3cm 정도로 작지만, 뒷다리가 아주 튼튼해서 멀리 뛸 수 있어요!</p>
                    </div>

                    <div class="info-section">
                        <h3>방아깨비의 특징</h3>
                        <p>방아깨비는 이런 특징이 있어요:</p>
                        <ul>
                            <li>뒷다리로 방아 찧는 것처럼 움직여서 '방아깨비'라는 이름이 붙었어요</li>
                            <li>자기 몸길이의 20배나 되는 거리를 뛸 수 있어요</li>
                            <li>풀잎을 먹고 살아요</li>
                            <li>위험할 때는 재빨리 뛰어서 도망가요</li>
                        </ul>
                    </div>

                    <div class="info-section">
                        <h3>방아깨비의 생활</h3>
                        <p>방아깨비는 여름부터 가을까지 볼 수 있어요. 풀이 많은 곳에서 살면서 풀잎을 먹고 자라요.</p>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>방아깨비는 귀를 배에 달고 있어요! 배 양쪽에 있는 작은 구멍으로 소리를 들어요. 또, 알에서 깨어난 아기 방아깨비는 어른 방아깨비가 되기까지 5-6번 허물을 벗어요.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="longhorn" class="insect-card">
            <div class="insect-header">
                <h2>긴 더듬이를 가진 하늘소 🪲</h2>
            </div>
            <div class="insect-content">
                <div class="insect-image">
                    <img src="images/beetles/하늘소.png" alt="하늘소">
                </div>
                <div class="insect-info">
                    <div class="info-section">
                        <h3>하늘소 소개</h3>
                        <p>하늘소는 몸길이보다 더 긴 더듬이를 가진 특별한 딱정벌레예요. 검은색이나 갈색 몸에 무늬가 있는 경우도 있어요.</p>
                        <p>크기는 2-3cm 정도이고, 더듬이는 몸길이의 1.5배에서 2배나 되요!</p>
                    </div>

                    <div class="info-section">
                        <h3>하늘소의 특징</h3>
                        <p>하늘소는 이런 특징이 있어요:</p>
                        <ul>
                            <li>긴 더듬이로 주변 환경을 잘 감지해요</li>
                            <li>단단한 나무도 갉아먹을 수 있는 강한 턱을 가지고 있어요</li>
                            <li>날 수도 있고, 걸을 수도 있어요</li>
                            <li>나무 속에서 애벌레로 자라요</li>
                        </ul>
                    </div>

                    <div class="info-section">
                        <h3>하늘소의 생활</h3>
                        <p>하늘소는 주로 숲에서 살아요. 애벌레는 나무 속에서 자라고, 어른벌레는 나뭇잎이나 나무의 수액을 먹어요.</p>
                    </div>

                    <div class="fun-fact">
                        <h3>재미있는 사실!</h3>
                        <p>하늘소라는 이름은 하늘을 나는 소처럼 보인다고 해서 붙여졌어요. 실제로 날 때 내는 소리가 '붕~' 하고 소 우는 소리와 비슷하대요! 또, 하늘소는 위험할 때 '찌익~' 하는 소리를 내기도 한답니다.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <p>🌈 유치원 어린이를 위한 신나는 곤충 백과사전 🌈</p>
        <p>더 많은 곤충 친구들을 알고 싶다면, 곤충도감이나 자연 관찰을 해보세요!</p>
    </footer>

    <script>
        // 퀴즈 관련 변수
        let currentQuestion = 1;
        const totalQuestions = 3;
        const correctAnswers = {
            1: 1, // 50마리
            2: 2, // 3년
            3: 1  // 시속 50km
        };
        const feedback = {
            1: {
                correct: "정답이에요! 무당벌레는 하루에 50마리나 되는 진딧물을 먹을 수 있어요.",
                wrong: "아쉽네요. 무당벌레는 하루에 50마리나 되는 진딧물을 먹을 수 있답니다!"
            },
            2: {
                correct: "정답이에요! 장수풍뎅이 애벌레는 3년 동안 자라서 어른벌레가 돼요.",
                wrong: "아쉽네요. 장수풍뎅이 애벌레는 3년이나 걸려서 자란답니다!"
            },
            3: {
                correct: "정답이에요! 잠자리는 시속 50km로 날 수 있어요. 자전거보다 더 빠르죠!",
                wrong: "아쉽네요. 잠자리는 시속 50km로 날 수 있어요. 정말 빠르죠?"
            }
        };

        // 퀴즈 초기화
        function initQuiz() {
            showQuestion(currentQuestion);
            updateNavigationButtons();
        }

        // 문제 보여주기
        function showQuestion(questionNumber) {
            document.querySelectorAll('.quiz-question').forEach(q => {
                q.classList.remove('active');
            });
            document.querySelector(`[data-question="${questionNumber}"]`).classList.add('active');
        }

        // 답변 체크
        function checkAnswer(questionNumber, selectedAnswer) {
            const question = document.querySelector(`[data-question="${questionNumber}"]`);
            const options = question.querySelectorAll('.quiz-option');
            const feedbackDiv = question.querySelector('.quiz-feedback');
            
            options.forEach(option => {
                option.disabled = true;
            });

            if (selectedAnswer === correctAnswers[questionNumber]) {
                options[selectedAnswer].classList.add('correct');
                feedbackDiv.textContent = feedback[questionNumber].correct;
                feedbackDiv.classList.add('correct');
            } else {
                options[selectedAnswer].classList.add('wrong');
                options[correctAnswers[questionNumber]].classList.add('correct');
                feedbackDiv.textContent = feedback[questionNumber].wrong;
                feedbackDiv.classList.add('wrong');
            }
        }

        // 다음 문제로 이동
        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                currentQuestion++;
                showQuestion(currentQuestion);
                updateNavigationButtons();
            }
        }

        // 이전 문제로 이동
        function previousQuestion() {
            if (currentQuestion > 1) {
                currentQuestion--;
                showQuestion(currentQuestion);
                updateNavigationButtons();
            }
        }

        // 네비게이션 버튼 업데이트
        function updateNavigationButtons() {
            document.getElementById('prevButton').disabled = currentQuestion === 1;
            document.getElementById('nextButton').disabled = currentQuestion === totalQuestions;
        }

        // 관찰 일지 관련 코드
        function addJournalEntry() {
            const insectName = document.getElementById('insectName').value;
            const location = document.getElementById('location').value;
            const weather = document.getElementById('weather').value;
            const observation = document.getElementById('observation').value;

            if (!insectName || !location || !weather || !observation) {
                alert('모든 항목을 입력해주세요!');
                return;
            }

            const entry = {
                insectName,
                location,
                weather,
                observation,
                date: new Date().toLocaleDateString('ko-KR'),
                time: new Date().toLocaleTimeString('ko-KR')
            };

            // 로컬 스토리지에서 기존 항목 가져오기
            let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            entries.unshift(entry); // 새 항목을 앞에 추가
            localStorage.setItem('journalEntries', JSON.stringify(entries));

            // 입력 폼 초기화
            document.getElementById('insectName').value = '';
            document.getElementById('location').value = '';
            document.getElementById('weather').value = '';
            document.getElementById('observation').value = '';

            // 화면 업데이트
            displayJournalEntries();
        }

        function deleteJournalEntry(index) {
            let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            entries.splice(index, 1);
            localStorage.setItem('journalEntries', JSON.stringify(entries));
            displayJournalEntries();
        }

        function displayJournalEntries() {
            const entriesContainer = document.getElementById('journalEntries');
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');

            entriesContainer.innerHTML = entries.map((entry, index) => `
                <div class="journal-entry">
                    <h4>${entry.insectName} 관찰 일지</h4>
                    <div class="entry-date">${entry.date} ${entry.time}</div>
                    <div class="entry-content">${entry.observation}</div>
                    <div class="entry-details">
                        <div class="detail-item">
                            <span class="detail-label">관찰 장소</span>
                            <span>${entry.location}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">날씨</span>
                            <span>${entry.weather}</span>
                        </div>
                    </div>
                    <button class="delete-button" onclick="deleteJournalEntry(${index})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `).join('');
        }

        // 색칠하기 관련 코드
        let currentColor = '#000000';
        let isDrawing = false;
        let canvas = document.getElementById('coloringCanvas');
        let ctx = canvas.getContext('2d');
        let lastX = 0;
        let lastY = 0;
        let currentInsectIndex = 0;

        // 곤충 그리기 함수들
        const insects = [
            {
                name: '호랑나비',
                draw: function(ctx) {
                    ctx.beginPath();
                    ctx.moveTo(300, 150);
                    ctx.bezierCurveTo(250, 100, 200, 120, 180, 150);
                    ctx.bezierCurveTo(160, 180, 170, 220, 200, 250);
                    ctx.lineTo(300, 300);
                    ctx.lineTo(400, 250);
                    ctx.bezierCurveTo(430, 220, 440, 180, 420, 150);
                    ctx.bezierCurveTo(400, 120, 350, 100, 300, 150);
                    ctx.moveTo(300, 300);
                    ctx.lineTo(300, 400);
                    ctx.bezierCurveTo(280, 420, 260, 420, 240, 400);
                    ctx.lineTo(220, 380);
                    ctx.moveTo(300, 400);
                    ctx.bezierCurveTo(320, 420, 340, 420, 360, 400);
                    ctx.lineTo(380, 380);
                    ctx.stroke();
                }
            },
            {
                name: '무당벌레',
                draw: function(ctx) {
                    // 몸통
                    ctx.beginPath();
                    ctx.moveTo(300, 200);
                    ctx.bezierCurveTo(200, 200, 150, 300, 200, 400);
                    ctx.bezierCurveTo(250, 500, 350, 500, 400, 400);
                    ctx.bezierCurveTo(450, 300, 400, 200, 300, 200);
                    ctx.stroke();

                    // 점들
                    [
                        [250, 300], [350, 300],
                        [270, 350], [330, 350],
                        [300, 400]
                    ].forEach(([x, y]) => {
                        ctx.beginPath();
                        ctx.arc(x, y, 20, 0, Math.PI * 2);
                        ctx.stroke();
                    });
                }
            },
            {
                name: '장수풍뎅이',
                draw: function(ctx) {
                    // 몸통
                    ctx.beginPath();
                    ctx.moveTo(300, 150);
                    ctx.bezierCurveTo(250, 150, 220, 180, 220, 220);
                    ctx.lineTo(220, 400);
                    ctx.bezierCurveTo(220, 450, 380, 450, 380, 400);
                    ctx.lineTo(380, 220);
                    ctx.bezierCurveTo(380, 180, 350, 150, 300, 150);
                    
                    // 뿔
                    ctx.moveTo(260, 150);
                    ctx.bezierCurveTo(260, 100, 280, 80, 300, 80);
                    ctx.bezierCurveTo(320, 80, 340, 100, 340, 150);
                    
                    // 다리
                    ctx.moveTo(240, 200);
                    ctx.lineTo(200, 180);
                    ctx.moveTo(360, 200);
                    ctx.lineTo(400, 180);
                    ctx.moveTo(250, 250);
                    ctx.lineTo(200, 250);
                    ctx.moveTo(350, 250);
                    ctx.lineTo(400, 250);
                    ctx.moveTo(250, 300);
                    ctx.lineTo(200, 320);
                    ctx.moveTo(350, 300);
                    ctx.lineTo(400, 320);
                    
                    ctx.stroke();
                }
            }
        ];

        // 캔버스 크기 설정
        function setCanvasSize() {
            canvas.width = 600;
            canvas.height = 600;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            ctx.lineWidth = 2;
            loadInsectDrawing();
        }

        // 곤충 그리기 로드
        function loadInsectDrawing() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 2;
            insects[currentInsectIndex].draw(ctx);
        }

        // 색상 선택
        document.querySelectorAll('.color-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                currentColor = this.dataset.color;
            });
        });

        // 그리기 이벤트
        function startDrawing(e) {
            isDrawing = true;
            [lastX, lastY] = [e.offsetX, e.offsetY];
        }

        function draw(e) {
            if (!isDrawing) return;
            ctx.beginPath();
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = document.getElementById('brushSize').value;
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.stroke();
            [lastX, lastY] = [e.offsetX, e.offsetY];
        }

        function stopDrawing() {
            isDrawing = false;
        }

        // 캔버스 초기화
        function clearCanvas() {
            loadInsectDrawing();
        }

        // 그림 저장
        function saveDrawing() {
            const link = document.createElement('a');
            link.download = '나만의_곤충_그림.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // 다른 곤충으로 변경
        function changeInsect() {
            currentInsectIndex = (currentInsectIndex + 1) % insects.length;
            loadInsectDrawing();
        }

        // 이벤트 리스너 등록
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            initQuiz();
            displayJournalEntries();
            setCanvasSize();
            initScrollToTop();
            initSearch();
        });

        // 위로 가기 버튼 초기화
        function initScrollToTop() {
            const scrollButton = document.querySelector('.scroll-to-top');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollButton.classList.add('visible');
                } else {
                    scrollButton.classList.remove('visible');
                }
            });

            scrollButton.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // 검색 기능 초기화
        function initSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');

            // 검색어 입력 시 실시간 검색
            searchInput.addEventListener('input', debounce(function() {
                if (this.value.length >= 1) {
                    searchInsects();
                } else {
                    searchResults.classList.remove('visible');
                }
            }, 300));

            // 검색창 외부 클릭 시 결과 숨기기
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-section')) {
                    searchResults.classList.remove('visible');
                }
            });

            // Enter 키 입력 시 검색 실행
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchInsects();
                }
            });
        }

        // 디바운스 함수
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func.apply(this, args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // 곤충 검색 함수
        function searchInsects() {
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            const query = searchInput.value.trim().toLowerCase();

            if (query.length < 1) {
                searchResults.classList.remove('visible');
                return;
            }

            // 모든 곤충 카드에서 검색
            const insectCards = document.querySelectorAll('.insect-card');
            const results = [];

            insectCards.forEach(card => {
                const title = card.querySelector('h2').textContent;
                const content = card.querySelector('.insect-info').textContent;
                
                if (title.toLowerCase().includes(query) || 
                    content.toLowerCase().includes(query)) {
                    
                    // 검색어가 포함된 부분 하이라이트
                    const highlightedTitle = title.replace(
                        new RegExp(query, 'gi'),
                        match => `<span class="highlight">${match}</span>`
                    );

                    results.push({
                        id: card.id,
                        title: highlightedTitle,
                        original: title
                    });
                }
            });

            // 검색 결과 표시
            if (results.length > 0) {
                searchResults.innerHTML = results.map(result => `
                    <div class="search-result-item" onclick="scrollToInsect('${result.id}')">
                        ${result.title}
                    </div>
                `).join('');
                searchResults.classList.add('visible');
            } else {
                searchResults.innerHTML = `
                    <div class="search-result-item">
                        검색 결과가 없어요. 다른 곤충 이름으로 검색해보세요!
                    </div>
                `;
                searchResults.classList.add('visible');
            }
        }

        // 검색 결과 클릭 시 해당 곤충으로 스크롤
        function scrollToInsect(id) {
            const element = document.getElementById(id);
            const searchResults = document.getElementById('searchResults');
            const headerOffset = 150;
            const elementPosition = element.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });

            searchResults.classList.remove('visible');
            
            // 찾아간 곤충 카드 강조 효과
            element.style.animation = 'highlight 2s';
            element.addEventListener('animationend', () => {
                element.style.animation = '';
            });
        }

        // 강조 효과 애니메이션
        const style = document.createElement('style');
        style.textContent = `
            @keyframes highlight {
                0% { transform: translateY(-5px); box-shadow: 0 0 0 4px var(--search-color); }
                100% { transform: translateY(0); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>